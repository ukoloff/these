% !TeX root = ..
\section{Постановка задачи}\label{sec:PS}
Мы рассматриваем общую постановку обобщённой задачи коммивояжера
с ограничениями предшествования
(PCGTSP). 
Задача определяется тройкой
$(G,\CX,\Pi)$, 
где
\begin{itemize}
	\item
	взвешенный ориентированный граф
	$G=(V,E,c)$
	определяет веса 
	$c(u,v)$
	для всех путей
	$(u,v)\in E$
	\item
	разбиение
	$\CX=\{V_1,\ldots,V_m\}$
	делит множество вершин
	$V$ графа $G$ на $m$ 
	непустых попарно непересекающихся 
	{\it кластеров}
	\item
	ориентированный ациклический граф 
	$ \Pi = (\CX, A) $ 
	определяет частичный порядок 
	(\textit{ограничения предшествования}) 
	на множестве кластеров $ \CX $.
\end{itemize}

Для каждой вершины 
$v\in V$, by $V(v)$ 
обозначим (единственный) кластер 
$V_p\in\CX$, 
такой что
$v\in V_p$. 
Далее,
без ограничения общности,
полагаем
$\Pi$ 
\textit{транзитивно замкнутым} 
(то есть из $(V_i,V_j)\in A$ и $(V_j,V_k)\in A$ следует $(V_i,V_k)\in A$) 
и что
$(V_1,V_p)\in A$ для каждого $p\in\{2,\ldots,m\}$.

замкнутый
$m$-тур $T$ 
называется \textit{допустимым} 
решением задачи PCGTSP, 
если он
\begin{itemize}
	\item
	начинается и заканчивается в некоторой вершине $v_1\in V_1$
	\item
	посещает каждый кластер $V_p\in\CX$
	\item
	каждое ребро
	$(v_i, v_j)$ в $T$ 
	(кроме ребра $(v_m,v_1)$) 
	удовлетворяет ограничению предешствования,
	то есть
	 $(V(v_i),V(v_j))\in A$.
\end{itemize} 

Каждому решению
$T=v_1, v_2, \ldots, v_m$,
мы назначаем стоимость
$$
	cost(T) = c(v_m,v_1) + \sum_{i=1}^{m-1} c(v_i,v_{i+1}). 
$$ 

Требуется найти допустимый тур 
$ T $ 
с минимальной стоимостью $ cost (T) $.
